{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.default = function () {\n  var underlyingAlgorithm = (0, _forceIndex2.default)();\n  var merge = (0, _utils.zipper)().combine(function (force, smoothed) {\n    return {\n      force: force,\n      smoothed: smoothed\n    };\n  });\n  var options = _defaultOptionsForComputation.SmoothedForceIndex;\n\n  function calculator(data) {\n    var _options = options,\n        smoothingType = _options.smoothingType,\n        smoothingWindow = _options.smoothingWindow;\n    var _options2 = options,\n        sourcePath = _options2.sourcePath,\n        volumePath = _options2.volumePath;\n    var algo = underlyingAlgorithm.options({\n      sourcePath: sourcePath,\n      volumePath: volumePath\n    });\n    var force = algo(data);\n    var ma = smoothingType === \"ema\" ? (0, _ema2.default)() : (0, _sma2.default)();\n    var forceMA = ma.options({\n      windowSize: smoothingWindow,\n      sourcePath: undefined\n    });\n    var smoothed = forceMA(force);\n    return merge(force, smoothed);\n  }\n\n  calculator.undefinedLength = function () {\n    var _options3 = options,\n        smoothingWindow = _options3.smoothingWindow;\n    return underlyingAlgorithm.undefinedLength() + smoothingWindow - 1;\n  };\n\n  calculator.options = function (x) {\n    if (!arguments.length) {\n      return options;\n    }\n\n    options = _extends({}, _defaultOptionsForComputation.SmoothedForceIndex, x);\n    return calculator;\n  };\n\n  return calculator;\n};\n\nvar _forceIndex = require(\"./forceIndex\");\n\nvar _forceIndex2 = _interopRequireDefault(_forceIndex);\n\nvar _ema = require(\"./ema\");\n\nvar _ema2 = _interopRequireDefault(_ema);\n\nvar _sma = require(\"./sma\");\n\nvar _sma2 = _interopRequireDefault(_sma);\n\nvar _utils = require(\"../utils\");\n\nvar _defaultOptionsForComputation = require(\"./defaultOptionsForComputation\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","map":null,"metadata":{},"sourceType":"script"}