{"ast":null,"code":"import _classCallCheck from \"/home/pmaheshwari/Desktop/TowardsStartUp/MunWorld/cleanui-admin-template-react-cra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/pmaheshwari/Desktop/TowardsStartUp/MunWorld/cleanui-admin-template-react-cra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/pmaheshwari/Desktop/TowardsStartUp/MunWorld/cleanui-admin-template-react-cra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/pmaheshwari/Desktop/TowardsStartUp/MunWorld/cleanui-admin-template-react-cra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/pmaheshwari/Desktop/TowardsStartUp/MunWorld/cleanui-admin-template-react-cra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/pmaheshwari/Desktop/TowardsStartUp/MunWorld/cleanui-admin-template-react-cra/src/pages/dashboard/crypto/TradeChart/index.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { format } from 'd3-format';\nimport { timeFormat } from 'd3-time-format';\nimport { ChartCanvas, Chart } from 'react-stockcharts';\nimport { CandlestickSeries, LineSeries } from 'react-stockcharts/lib/series';\nimport { XAxis, YAxis } from 'react-stockcharts/lib/axes';\nimport { CrossHairCursor, EdgeIndicator, CurrentCoordinate, MouseCoordinateX, MouseCoordinateY } from 'react-stockcharts/lib/coordinates';\nimport { LabelAnnotation, Label, Annotate } from 'react-stockcharts/lib/annotation';\nimport { discontinuousTimeScaleProvider } from 'react-stockcharts/lib/scale';\nimport { OHLCTooltip, MovingAverageTooltip } from 'react-stockcharts/lib/tooltip';\nimport { ema } from 'react-stockcharts/lib/indicator';\nimport { fitWidth } from 'react-stockcharts/lib/helper';\nimport { last } from 'react-stockcharts/lib/utils';\n\nvar CandleStickChartWithAnnotation =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CandleStickChartWithAnnotation, _React$Component);\n\n  function CandleStickChartWithAnnotation() {\n    _classCallCheck(this, CandleStickChartWithAnnotation);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CandleStickChartWithAnnotation).apply(this, arguments));\n  }\n\n  _createClass(CandleStickChartWithAnnotation, [{\n    key: \"render\",\n    value: function render() {\n      var annotationProps = {\n        y: function y(_ref) {\n          var yScale = _ref.yScale;\n          return yScale.range()[0];\n        },\n        tooltip: function tooltip(d) {\n          return timeFormat('%B')(d.date);\n        }\n      };\n      var margin = {\n        left: 0,\n        right: 50,\n        top: 10,\n        bottom: 20\n      };\n      var height = 400;\n      var _this$props = this.props,\n          type = _this$props.type,\n          zoomEvent = _this$props.zoomEvent,\n          initialData = _this$props.data,\n          width = _this$props.width,\n          ratio = _this$props.ratio;\n      var gridHeight = height - margin.top - margin.bottom;\n      var gridWidth = width - margin.left - margin.right;\n      var showGrid = true;\n      var xGrid = showGrid ? {\n        innerTickSize: -1 * gridHeight,\n        tickStrokeOpacity: 0.1\n      } : {};\n      var yGrid = showGrid ? {\n        innerTickSize: -1 * gridWidth,\n        tickStrokeOpacity: 0.1\n      } : {};\n      var ema20 = ema().id(0).options({\n        windowSize: 20\n      }).merge(function (d, c) {\n        var b = d;\n        b.ema20 = c;\n        return b;\n      }).accessor(function (d) {\n        return d.ema20;\n      });\n      var ema50 = ema().id(2).options({\n        windowSize: 50\n      }).merge(function (d, c) {\n        var b = d;\n        b.ema50 = c;\n        return b;\n      }).accessor(function (d) {\n        return d.ema50;\n      });\n      var calculatedData = ema20(ema50(initialData));\n      var xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor(function (d) {\n        return d.date;\n      });\n\n      var _xScaleProvider = xScaleProvider(calculatedData),\n          data = _xScaleProvider.data,\n          xScale = _xScaleProvider.xScale,\n          xAccessor = _xScaleProvider.xAccessor,\n          displayXAccessor = _xScaleProvider.displayXAccessor;\n\n      var start = xAccessor(last(data));\n      var end = xAccessor(data[Math.max(0, data.length - 150)]);\n      var xExtents = [start, end];\n      return React.createElement(ChartCanvas, {\n        height: height,\n        ratio: ratio,\n        width: width,\n        margin: margin,\n        type: type,\n        seriesName: \"MSFT\",\n        data: data,\n        xScale: xScale,\n        xAccessor: xAccessor,\n        displayXAccessor: displayXAccessor,\n        xExtents: xExtents,\n        zoomEvent: zoomEvent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Label, {\n        x: 38,\n        y: 30,\n        fontSize: 18,\n        text: \"BTC-USD\",\n        fontFamily: \"monospace\",\n        fontWeight: \"bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(Label, {\n        x: 100,\n        y: 50,\n        fontSize: 12,\n        text: \"Clean UI React Admin Template\",\n        fontFamily: \"monospace\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Chart, {\n        id: 1,\n        yExtents: [function (d) {\n          return [d.high, d.low];\n        }],\n        padding: {\n          top: 10,\n          bottom: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(XAxis, Object.assign({\n        axisAt: \"bottom\",\n        orient: \"bottom\"\n      }, xGrid, {\n        zoomEnabled: zoomEvent,\n        fontFamily: \"monospace\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(MouseCoordinateX, {\n        fontFamily: \"monospace\",\n        at: \"bottom\",\n        orient: \"bottom\",\n        displayFormat: timeFormat('%Y-%m-%d'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(MouseCoordinateY, {\n        fontFamily: \"monospace\",\n        at: \"right\",\n        orient: \"right\",\n        displayFormat: format('.2f'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(YAxis, Object.assign({\n        axisAt: \"right\",\n        orient: \"right\",\n        ticks: 5\n      }, yGrid, {\n        zoomEnabled: zoomEvent,\n        fontFamily: \"monospace\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), React.createElement(CandlestickSeries, {\n        fill: function fill(d) {\n          return d.close > d.open ? '#c23f3f' : '#06a45b';\n        },\n        stroke: function stroke(d) {\n          return d.close > d.open ? '#c23f3f' : '#06a45b';\n        },\n        opacity: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(LineSeries, {\n        yAccessor: ema20.accessor(),\n        stroke: ema20.stroke(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(LineSeries, {\n        yAccessor: ema50.accessor(),\n        stroke: ema50.stroke(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(CurrentCoordinate, {\n        yAccessor: ema20.accessor(),\n        fill: ema20.stroke(),\n        fontFamily: \"monospace\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(CurrentCoordinate, {\n        yAccessor: ema50.accessor(),\n        fill: ema50.stroke(),\n        fontFamily: \"monospace\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(EdgeIndicator, {\n        itemType: \"last\",\n        orient: \"right\",\n        edgeAt: \"right\",\n        fontFamily: \"monospace\",\n        yAccessor: function yAccessor(d) {\n          return d.close;\n        },\n        fill: function fill(d) {\n          return d.close > d.open ? '#c23f3f' : '#06a45b';\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(OHLCTooltip, {\n        origin: [0, 0],\n        fontFamily: \"monospace\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), React.createElement(MovingAverageTooltip, {\n        origin: [5, 60],\n        fontFamily: \"monospace\",\n        options: [{\n          yAccessor: ema20.accessor(),\n          type: ema20.type(),\n          stroke: ema20.stroke(),\n          windowSize: ema20.options().windowSize\n        }, {\n          yAccessor: ema50.accessor(),\n          type: ema50.type(),\n          stroke: ema50.stroke(),\n          windowSize: ema50.options().windowSize\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }), React.createElement(Annotate, {\n        with: LabelAnnotation,\n        when: function when(d) {\n          return d.date.getDate() === 1;\n        }\n        /* some condition */\n        ,\n        usingProps: annotationProps,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      })), React.createElement(CrossHairCursor, {\n        strokeDasharray: \"ShortDash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CandleStickChartWithAnnotation;\n}(React.Component);\n\nCandleStickChartWithAnnotation.propTypes = {\n  data: PropTypes.array.isRequired,\n  width: PropTypes.number.isRequired,\n  ratio: PropTypes.number.isRequired,\n  type: PropTypes.oneOf(['svg', 'hybrid']).isRequired\n};\nexport default fitWidth(CandleStickChartWithAnnotation);","map":{"version":3,"sources":["/home/pmaheshwari/Desktop/TowardsStartUp/MunWorld/cleanui-admin-template-react-cra/src/pages/dashboard/crypto/TradeChart/index.js"],"names":["React","PropTypes","format","timeFormat","ChartCanvas","Chart","CandlestickSeries","LineSeries","XAxis","YAxis","CrossHairCursor","EdgeIndicator","CurrentCoordinate","MouseCoordinateX","MouseCoordinateY","LabelAnnotation","Label","Annotate","discontinuousTimeScaleProvider","OHLCTooltip","MovingAverageTooltip","ema","fitWidth","last","CandleStickChartWithAnnotation","annotationProps","y","yScale","range","tooltip","d","date","margin","left","right","top","bottom","height","props","type","zoomEvent","initialData","data","width","ratio","gridHeight","gridWidth","showGrid","xGrid","innerTickSize","tickStrokeOpacity","yGrid","ema20","id","options","windowSize","merge","c","b","accessor","ema50","calculatedData","xScaleProvider","inputDateAccessor","xScale","xAccessor","displayXAccessor","start","end","Math","max","length","xExtents","high","low","close","open","stroke","yAccessor","getDate","Component","propTypes","array","isRequired","number","oneOf"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { format } from 'd3-format'\nimport { timeFormat } from 'd3-time-format'\nimport { ChartCanvas, Chart } from 'react-stockcharts'\nimport { CandlestickSeries, LineSeries } from 'react-stockcharts/lib/series'\nimport { XAxis, YAxis } from 'react-stockcharts/lib/axes'\nimport {\n  CrossHairCursor,\n  EdgeIndicator,\n  CurrentCoordinate,\n  MouseCoordinateX,\n  MouseCoordinateY,\n} from 'react-stockcharts/lib/coordinates'\nimport { LabelAnnotation, Label, Annotate } from 'react-stockcharts/lib/annotation'\nimport { discontinuousTimeScaleProvider } from 'react-stockcharts/lib/scale'\nimport { OHLCTooltip, MovingAverageTooltip } from 'react-stockcharts/lib/tooltip'\nimport { ema } from 'react-stockcharts/lib/indicator'\nimport { fitWidth } from 'react-stockcharts/lib/helper'\nimport { last } from 'react-stockcharts/lib/utils'\n\nclass CandleStickChartWithAnnotation extends React.Component {\n  render() {\n    const annotationProps = {\n      y: ({ yScale }) => yScale.range()[0],\n      tooltip: d => timeFormat('%B')(d.date),\n    }\n\n    const margin = { left: 0, right: 50, top: 10, bottom: 20 }\n    const height = 400\n    const { type, zoomEvent, data: initialData, width, ratio } = this.props\n    const gridHeight = height - margin.top - margin.bottom\n    const gridWidth = width - margin.left - margin.right\n\n    const showGrid = true\n    const xGrid = showGrid ? { innerTickSize: -1 * gridHeight, tickStrokeOpacity: 0.1 } : {}\n    const yGrid = showGrid ? { innerTickSize: -1 * gridWidth, tickStrokeOpacity: 0.1 } : {}\n\n    const ema20 = ema()\n      .id(0)\n      .options({ windowSize: 20 })\n      .merge((d, c) => {\n        const b = d\n        b.ema20 = c\n        return b\n      })\n      .accessor(d => d.ema20)\n\n    const ema50 = ema()\n      .id(2)\n      .options({ windowSize: 50 })\n      .merge((d, c) => {\n        const b = d\n        b.ema50 = c\n        return b\n      })\n      .accessor(d => d.ema50)\n\n    const calculatedData = ema20(ema50(initialData))\n    const xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor(d => d.date)\n    const { data, xScale, xAccessor, displayXAccessor } = xScaleProvider(calculatedData)\n\n    const start = xAccessor(last(data))\n    const end = xAccessor(data[Math.max(0, data.length - 150)])\n    const xExtents = [start, end]\n\n    return (\n      <ChartCanvas\n        height={height}\n        ratio={ratio}\n        width={width}\n        margin={margin}\n        type={type}\n        seriesName=\"MSFT\"\n        data={data}\n        xScale={xScale}\n        xAccessor={xAccessor}\n        displayXAccessor={displayXAccessor}\n        xExtents={xExtents}\n        zoomEvent={zoomEvent}\n      >\n        <Label\n          x={38}\n          y={30}\n          fontSize={18}\n          text=\"BTC-USD\"\n          fontFamily=\"monospace\"\n          fontWeight=\"bold\"\n        />\n        <Label\n          x={100}\n          y={50}\n          fontSize={12}\n          text=\"Clean UI React Admin Template\"\n          fontFamily=\"monospace\"\n        />\n        <Chart id={1} yExtents={[d => [d.high, d.low]]} padding={{ top: 10, bottom: 20 }}>\n          <XAxis\n            axisAt=\"bottom\"\n            orient=\"bottom\"\n            {...xGrid}\n            zoomEnabled={zoomEvent}\n            fontFamily=\"monospace\"\n          />\n          <MouseCoordinateX\n            fontFamily=\"monospace\"\n            at=\"bottom\"\n            orient=\"bottom\"\n            displayFormat={timeFormat('%Y-%m-%d')}\n          />\n          <MouseCoordinateY\n            fontFamily=\"monospace\"\n            at=\"right\"\n            orient=\"right\"\n            displayFormat={format('.2f')}\n          />\n          <YAxis\n            axisAt=\"right\"\n            orient=\"right\"\n            ticks={5}\n            {...yGrid}\n            zoomEnabled={zoomEvent}\n            fontFamily=\"monospace\"\n          />\n          <CandlestickSeries\n            fill={d => (d.close > d.open ? '#c23f3f' : '#06a45b')}\n            stroke={d => (d.close > d.open ? '#c23f3f' : '#06a45b')}\n            opacity={1}\n          />\n\n          <LineSeries yAccessor={ema20.accessor()} stroke={ema20.stroke()} />\n          <LineSeries yAccessor={ema50.accessor()} stroke={ema50.stroke()} />\n\n          <CurrentCoordinate\n            yAccessor={ema20.accessor()}\n            fill={ema20.stroke()}\n            fontFamily=\"monospace\"\n          />\n          <CurrentCoordinate\n            yAccessor={ema50.accessor()}\n            fill={ema50.stroke()}\n            fontFamily=\"monospace\"\n          />\n\n          <EdgeIndicator\n            itemType=\"last\"\n            orient=\"right\"\n            edgeAt=\"right\"\n            fontFamily=\"monospace\"\n            yAccessor={d => d.close}\n            fill={d => (d.close > d.open ? '#c23f3f' : '#06a45b')}\n          />\n          <OHLCTooltip origin={[0, 0]} fontFamily=\"monospace\" />\n          <MovingAverageTooltip\n            origin={[5, 60]}\n            fontFamily=\"monospace\"\n            options={[\n              {\n                yAccessor: ema20.accessor(),\n                type: ema20.type(),\n                stroke: ema20.stroke(),\n                windowSize: ema20.options().windowSize,\n              },\n              {\n                yAccessor: ema50.accessor(),\n                type: ema50.type(),\n                stroke: ema50.stroke(),\n                windowSize: ema50.options().windowSize,\n              },\n            ]}\n          />\n          <Annotate\n            with={LabelAnnotation}\n            when={d => d.date.getDate() === 1 /* some condition */}\n            usingProps={annotationProps}\n          />\n        </Chart>\n        <CrossHairCursor strokeDasharray=\"ShortDash\" />\n      </ChartCanvas>\n    )\n  }\n}\n\nCandleStickChartWithAnnotation.propTypes = {\n  data: PropTypes.array.isRequired,\n  width: PropTypes.number.isRequired,\n  ratio: PropTypes.number.isRequired,\n  type: PropTypes.oneOf(['svg', 'hybrid']).isRequired,\n}\n\nexport default fitWidth(CandleStickChartWithAnnotation)\n"]},"metadata":{},"sourceType":"module"}