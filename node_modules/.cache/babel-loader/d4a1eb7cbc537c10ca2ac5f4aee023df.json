{"ast":null,"code":"import _regeneratorRuntime from \"/home/pmaheshwari/Desktop/TowardsStartUp/MunWorld/cleanui-admin-template-react-cra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport \"antd/es/notification/style\";\nimport _notification from \"antd/es/notification\";\nimport _asyncToGenerator from \"/home/pmaheshwari/Desktop/TowardsStartUp/MunWorld/cleanui-admin-template-react-cra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/storage';\nvar firebaseConfig = {\n  apiKey: 'AIzaSyAE5G0RI2LwzwTBizhJbnRKIKbiXQIA1dY',\n  authDomain: 'cleanui-72a42.firebaseapp.com',\n  databaseURL: 'https://cleanui-72a42.firebaseio.com',\n  projectId: 'cleanui-72a42',\n  storageBucket: 'cleanui-72a42.appspot.com',\n  messagingSenderId: '583382839121'\n};\nvar firebaseApp = firebase.initializeApp(firebaseConfig);\nvar firebaseAuth = firebase.auth;\nexport default firebaseApp;\nexport function login(_x, _x2) {\n  return _login.apply(this, arguments);\n}\n\nfunction _login() {\n  _login = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(email, password) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", firebaseAuth().signInWithEmailAndPassword(email, password).then(function () {\n              return true;\n            }).catch(function (error) {\n              _notification.warning({\n                message: error.code,\n                description: error.message\n              });\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _login.apply(this, arguments);\n}\n\nexport function currentAccount() {\n  return _currentAccount.apply(this, arguments);\n}\n\nfunction _currentAccount() {\n  _currentAccount = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2() {\n    var userLoaded, getCurrentUser;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            getCurrentUser = function _ref(auth) {\n              return new Promise(function (resolve, reject) {\n                if (userLoaded) {\n                  resolve(firebaseAuth.currentUser);\n                }\n\n                var unsubscribe = auth.onAuthStateChanged(function (user) {\n                  userLoaded = true;\n                  unsubscribe();\n                  resolve(user);\n                }, reject);\n              });\n            };\n\n            userLoaded = false;\n            return _context2.abrupt(\"return\", getCurrentUser(firebaseAuth()));\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _currentAccount.apply(this, arguments);\n}\n\nexport function logout() {\n  return _logout.apply(this, arguments);\n}\n\nfunction _logout() {\n  _logout = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", firebaseAuth().signOut().then(function () {\n              return true;\n            }));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _logout.apply(this, arguments);\n}","map":{"version":3,"sources":["/home/pmaheshwari/Desktop/TowardsStartUp/MunWorld/cleanui-admin-template-react-cra/src/services/user.js"],"names":["firebase","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebaseApp","initializeApp","firebaseAuth","auth","login","email","password","signInWithEmailAndPassword","then","catch","error","warning","message","code","description","currentAccount","getCurrentUser","Promise","resolve","reject","userLoaded","currentUser","unsubscribe","onAuthStateChanged","user","logout","signOut"],"mappings":";;;;AAAA,OAAOA,QAAP,MAAqB,cAArB;AAEA,OAAO,eAAP;AACA,OAAO,mBAAP;AACA,OAAO,kBAAP;AAEA,IAAMC,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE,yCADa;AAErBC,EAAAA,UAAU,EAAE,+BAFS;AAGrBC,EAAAA,WAAW,EAAE,sCAHQ;AAIrBC,EAAAA,SAAS,EAAE,eAJU;AAKrBC,EAAAA,aAAa,EAAE,2BALM;AAMrBC,EAAAA,iBAAiB,EAAE;AANE,CAAvB;AASA,IAAMC,WAAW,GAAGR,QAAQ,CAACS,aAAT,CAAuBR,cAAvB,CAApB;AACA,IAAMS,YAAY,GAAGV,QAAQ,CAACW,IAA9B;AACA,eAAeH,WAAf;AAEA,gBAAsBI,KAAtB;AAAA;AAAA;;;;;2BAAO,iBAAqBC,KAArB,EAA4BC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA,6CACEJ,YAAY,GAChBK,0BADI,CACuBF,KADvB,EAC8BC,QAD9B,EAEJE,IAFI,CAEC;AAAA,qBAAM,IAAN;AAAA,aAFD,EAGJC,KAHI,CAGE,UAAAC,KAAK,EAAI;AACd,4BAAaC,OAAb,CAAqB;AACnBC,gBAAAA,OAAO,EAAEF,KAAK,CAACG,IADI;AAEnBC,gBAAAA,WAAW,EAAEJ,KAAK,CAACE;AAFA,eAArB;AAID,aARI,CADF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAYP,gBAAsBG,cAAtB;AAAA;AAAA;;;;;2BAAO;AAAA,oBAEIC,cAFJ;AAAA;AAAA;AAAA;AAAA;AAEIA,YAAAA,cAFJ,iBAEmBb,IAFnB,EAEyB;AAC5B,qBAAO,IAAIc,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,oBAAIC,UAAJ,EAAgB;AACdF,kBAAAA,OAAO,CAAChB,YAAY,CAACmB,WAAd,CAAP;AACD;;AACD,oBAAMC,WAAW,GAAGnB,IAAI,CAACoB,kBAAL,CAAwB,UAAAC,IAAI,EAAI;AAClDJ,kBAAAA,UAAU,GAAG,IAAb;AACAE,kBAAAA,WAAW;AACXJ,kBAAAA,OAAO,CAACM,IAAD,CAAP;AACD,iBAJmB,EAIjBL,MAJiB,CAApB;AAKD,eATM,CAAP;AAUD,aAbI;;AACDC,YAAAA,UADC,GACY,KADZ;AAAA,8CAcEJ,cAAc,CAACd,YAAY,EAAb,CAdhB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAiBP,gBAAsBuB,MAAtB;AAAA;AAAA;;;;;2BAAO;AAAA;AAAA;AAAA;AAAA;AAAA,8CACEvB,YAAY,GAChBwB,OADI,GAEJlB,IAFI,CAEC;AAAA,qBAAM,IAAN;AAAA,aAFD,CADF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import firebase from 'firebase/app'\nimport { notification } from 'antd'\nimport 'firebase/auth'\nimport 'firebase/database'\nimport 'firebase/storage'\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyAE5G0RI2LwzwTBizhJbnRKIKbiXQIA1dY',\n  authDomain: 'cleanui-72a42.firebaseapp.com',\n  databaseURL: 'https://cleanui-72a42.firebaseio.com',\n  projectId: 'cleanui-72a42',\n  storageBucket: 'cleanui-72a42.appspot.com',\n  messagingSenderId: '583382839121',\n}\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\nconst firebaseAuth = firebase.auth\nexport default firebaseApp\n\nexport async function login(email, password) {\n  return firebaseAuth()\n    .signInWithEmailAndPassword(email, password)\n    .then(() => true)\n    .catch(error => {\n      notification.warning({\n        message: error.code,\n        description: error.message,\n      })\n    })\n}\n\nexport async function currentAccount() {\n  let userLoaded = false\n  function getCurrentUser(auth) {\n    return new Promise((resolve, reject) => {\n      if (userLoaded) {\n        resolve(firebaseAuth.currentUser)\n      }\n      const unsubscribe = auth.onAuthStateChanged(user => {\n        userLoaded = true\n        unsubscribe()\n        resolve(user)\n      }, reject)\n    })\n  }\n  return getCurrentUser(firebaseAuth())\n}\n\nexport async function logout() {\n  return firebaseAuth()\n    .signOut()\n    .then(() => true)\n}\n"]},"metadata":{},"sourceType":"module"}